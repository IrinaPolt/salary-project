## <h1 align="center"> Сервис для просмотра заработной платы и повышения работника </h1>

### Описание проекта

Приложение на базе FastAPI и PostgreSQL, авторизация реализована через JWT-токены.
Запуск осуществляется в контейнерах Docker.

**Функционал**:
+ добавление в БД объектов пользователя (user), повышения (promotion), зарплаты (wage)
+ логин пользователя: возвращается access_token, который необходимо использовать для доступа к защищенному эндпойнту
+ защищенный эндпойнт: просмотр своей заработной платы и запланированного повышения

### Шаблон наполнения .env файла для работы с базой данных

Перейдите в папку backend/ и создайте файл .env с переменными окружения:
```
SECRET_KEY=supersecret
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_SERVER=db
POSTGRES_PORT=5432
POSTGRES_DB=postgres
```
### Сборка и запуск приложения

```
docker-compose build
docker-compose up -d
```
### Документация API

После запуска проекта доступна по [ссылке](http://localhost:8000/docs#)

### Загрузка тестовых данных

В папке **/app/utils/** хранятся json-файлы с тестовыми данными. Для их загрузки в БД нужно выполнить запрос:

```
GET /load_data/
```
### Доступ к защищенному эндпойнту

```
GET /check/
Authorization: Bearer <токен авторизации>
```
Токен можно получить после логина, он добавляется в headers запроса
### Доступ в контейнеры

**db** - контейнер, в котором хранится база данных
```
docker exec -it <container_id> psql -U <postgres_user>
```
**server** - контейнер, в котором хранится приложение FastAPI
```
docker exec -it <container_id> bash
```
Получение id контейнера: ```docker ps```

### Остановка приложения

```
docker-compose down
```
